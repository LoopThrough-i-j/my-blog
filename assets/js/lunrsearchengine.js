
var documents = [{
    "id": 0,
    "url": "http://localhost:4000/404.html",
    "title": "404",
    "body": "404 Page not found!Please use the search bar from the bottom left or visit our homepage! "
    }, {
    "id": 1,
    "url": "http://localhost:4000/about",
    "title": "Sudeep Chauhan",
    "body": "Hi there, My name is Sudeep, and this is my personal blog. Goal of this site is to express my thoughts, ideas, learnings and lessons alike. You can read more about it in the welcome post: Namaste. What I do: In 2019 I quit my full time job to start technology umbrella company Milkie Way, Inc. headquartered in the bay area, CA. After experimenting with over 10 projects, in 2020 December my team launched our first two products Announce and Point Address. I’m excited about them as they have potential to change the world, and are built to scale and rapidly evolve. In 2021 I built YRL - a marketing platform for everyone. In September 2021, I started my journey as a Content Creator on Youtube. Join my journey. Before Milkie Way, I worked at Google. My experience includes roles across Engineering, Product Development, Security all the way to Sales/Operations and Legal. At Google I switched a lot of jobs in different locations that helped me gain decent exposure to varying set of problems and strategies. How I spend my time: An engineer at heart, my interests lie in a lot of fields, most importantly in the field of constant learning. I spend a lot of time on  unconventional ideas product, design and engineering hiring, managing and motivating teams solving problems with minimal resourcesI’m currently learning about how to do marketing effectively. Like my posts?: I would love to hear your thoughts, feedback, and story. Connect with me.  Don’t Like the content?If for some reason you’re not content with the content, please take a deep breath, click here and marvel at the beauty of life. "
    }, {
    "id": 2,
    "url": "http://localhost:4000/categories",
    "title": "Categories",
    "body": ""
    }, {
    "id": 3,
    "url": "http://localhost:4000/contact",
    "title": "Connect",
    "body": "If you’d like to get updates, you can subscribe with your email address at the end of this page. Alternately, you can also connect with me:                                                                                     If you’d like to drop a personal message, you can email me at: hello@sudcha. com (or click below).                             "
    }, {
    "id": 4,
    "url": "http://localhost:4000/",
    "title": "Home",
    "body": "                                                                                                I Made Youtube Videos using Python              :       The first project I worked on after leaving my full time job was to create Youtube videos programmatically, at scale. This post explains what I did, and what happened next. . . . :                                 21 Oct 2021                                                                                                                            Creating Value isn't Secret to Success. It's Common Sense.               :       I keep hearing the phrase “Value Creation leads to Wealth”. It’s true to a large degree, but not the complete truth. :                                 01 Oct 2021                                                                                                                            'The Unconventional Founder' Youtube Channel              :       After overcoming a deeply rooted resistance, I finally started a Youtube channel. This post explains why it was so difficult, and what understanding convinced me to do it. :                                 28 Sep 2021                                                                                                                            Product Lessons from $1 Lint Remover              :       What is a great product user experience? This article shares the product lessons hidden in mighty Lint removers. :                                 22 Jan 2021                                                                                                                            Wow, how cool I did that then!              :       In the last few weeks, the power of long term thinking has been consistently on my mind. This post is dedicated to long term thinking / actions, and an attempt. . . :                                 14 Jan 2021                                                                                                                            How to use Cloud without losing sleep              :       A hands on guide for individual developers, small teams without dedicated SRE or oncall teams to using Cloud services safely. :                                 13 Jan 2021                                                                                                                            Namaste              :       Welcome to sudcha. com! This is the first post of the blog and I’d like to share how this site came into existence, and what purpose it serves. :                                 28 Dec 2020                                "
    }, {
    "id": 5,
    "url": "http://localhost:4000/tos",
    "title": "Privacy and Terms",
    "body": "Privacy: This site is purely informational, and intended to convey the thoughts, ideas and knowledge of the author. It’s hosted as a static site, and in no way does this site intend to take any personal information of any visitor. Cookies: This site uses Google Analytics to monitor usage to make potential design and structural improvements to improve accessibility. All information is aggregated , and no individual user identity will ever be tracked. Feel free to refer to this article by Google on how you can opt out of this cookie. Terms of Use: The author(s) of this site retain all copyrights to the content. If you as a reader like the content and would like to cite it in your own post or content, you’re more than welcome to do so as long as you add reference to the original article on this site with an unobfuscated link to your citation. This includes, but not limited to, any derivative work including translations. "
    }, {
    "id": 6,
    "url": "http://localhost:4000/robots.txt",
    "title": "",
    "body": "      Sitemap: {{ “sitemap. xml”   absolute_url }}   "
    }, {
    "id": 7,
    "url": "http://localhost:4000/i-made-youtube-videos-using-python/",
    "title": "I Made Youtube Videos using Python",
    "body": "2021/10/21 - The first project I worked on after leaving my full time job was to create Youtube videos programmatically, at scale. This post explains what I did, and what happened next. Would you rather …: watch a video? If you’re better with visuals / audio, watch this video instead (it’s better at 1. 5x ;) -    No? Ok, let’s go - After leaving my full time job at Google and steady pay, I asked myself: what projects could I do that could potentially bring some passive income? The project should be exciting enough for me to take a dab, should help me learn something absolutely new, and make a great story regardless of its outcome. For the love of Youtube: I had been thinking about Youtube as a platform for quite some time because it probably ranks number 1 in my list of favorite products. Second, it provides hosting videos for FREE, to everyone. The second one is huge, if you think of it, especially as an engineer. The biggest cost to serving videos online is their hosting, and youtube takes care of that for everyone, for free. Not just that, if your videos are public and get views, it even pays you for them! Music with AI?: When Tensorflow was announced, there was also an announcement of a project that could create Music with AI (Project Magenta). This idea that AI could create music resonated with me a lot. The problem with this project was that while AI can create a lot of Music, most of it is average at best. They've come a long way today. They provide a readymade Colab to begin with! Even the most popular Artists usually have only a few super viral songs, and with AI, this percentage is an improbable fraction. Crowdsource Discovery of Good Music?: Let’s just say that it would take AI 100,000 songs to come up with one great one. Can we crowd source listening to all of this music to the world and let them decide which song is the best? I could create some decent videos of slideshows – programmatically of course, for each of the music files generated, and upload them to Youtube for the world to figure it out. If there’s some traction, it would motivate me to spend more time tweaking the AI training model, as well as earn $$ :). Baby Steps: Creating music with AI felt like a big task, so I thought, let’s just do something basic. Let’s create videos of just some text converted to speech with slideshow, and upload it to Youtube programmatically. Yep, that’s a good start. Based on how that goes, we can work on creating music with AI, instead of that text -&gt; speech thingy. To make this MVP of a process, I decided using data from Wikipedia first. I could even incorporate live news to this concept! Youtube allows uploading 50 videos daily. This means, that if I had 10 channels, I could upload 500 videos a day. Take a minute to fathom that. 500 x 365 = 182,500 videos a year. If each video gets 10 views, that alone is over 1 million views. Very fascinating. WDYT? Project Sound of Knowledge: I called the project: SoKnow (Sound of Knowledge). Other name I had chosen was Sound of Gold, which I forget why, but SoKnow sounded cool Here’s how it would work: Steps to Write Code for.  Get Wikipedia trending queries (thanks to Wiki APIs!) Get the First Paragraph from each Query Check for Adult Content (important!) Convert text to Speech (I used Google’s text-to-speech API) Find images available for commercial use on this topic Stitch the images to make a slide show along with the Audio Upload to Youtube using Youtube’s API Drink lemonade and enjoy. I chose Python to write this code in. Why? Because most libraries that I was going to use had best support in Python. Also, I like Python. Write the CODE: Step by step I wrote the code to do all the steps. Yes the code was scrappy but it worked. Simple API calls to get all the data, used ffmpeg to create slideshow videos. While there was no parallel processing (no threads), the process was fast enough to create 50 videos in 10-15 minutes. There were many bugs of course, for example the APIs would timeout, or some special characters would break the sequence, but one by one I fixed them all. If no images were found for a particular topic, I would make it a black screen with the Title’s text on top of it. Also embedded the channel watermark in one corner. To upload the videos, I used Youtube’s API from GCP. What was amazing was that I could also set up Description, Title and Keywords in each of the videos through their API. Mind blown. All was well in test runs, and then I ran in production. Youtube knows about this: After running the code, I started seeing bugs that I couldn’t really understand. After some debugging I realized, the issue. It turns out that Youtube API has quota limitations that are different from the web UI limitations. Most prominent for me was that Youtube API only allowed ~3-4 video uploads a day, and not more than that, thanks to their Quota limitations. I read their Quota Costs for API requests much later than I should have. Everything has low quota usage except the “Video -&gt; Insert” resource. Youtube does allow 50 uploads through their User interface, but not through APIs. Let’s raise a consult!: Why didn’t I think of reading this first? I was super mad and sad. Also, of course I reached to Youtube team over their Cases consult. I wrote a big doc as much convincing information as I could add. It would take them weeks to revert, which makes sense given their size. Not that I was motivated to, after several weeks of no response, I did reach out to a friend who worked in Youtube at the time. As I had thought, it didn’t really do anything. For the most part, Google is a meritocracy based company, and unless I was one of the early partners , big enough (think SocialBlade), or had good relations with someone higher in management (VP level?), it was not going to happen. One of the emails I wrote. I also wrote a long doc! I did try to play the “Anti competitive” song in my subsequent appeals, which I thought was clever, but it didn’t work. Yes, yes, I know they are smart. I'm innocent. After several back and forths, they did increase my quota from 10,000 a day to 15,000 per day. To some degree that was fair, because it’s not like my content was going to make grow Youtube’s userbase, or improve user experience somehow. For few days, I uploaded videos manually to Youtube, and then set their Title / Description and Keywords programmatically. But as you can guess it wasn’t with the same excitement as before. What did the videos look like?: You can find all Channels with this youtube search query. Here’s a sample video.     What Happened to the Content?: Well after I left the project, I came back to check on the videos after two years. The metrics are fascinating to look at, so I share those metrics below. Note: I did nothing to grow these channels. All videos in these channels were the output of a simple Python code, except of course, I had to upload most of the videos manually, and then update the metadata through code. Metrics from Two Years:       Channel   Views   Watch Time   Subscribers         SoKnow French    5. 4K   90 Hours   53       SoKnow Hindi   21K   345 Hours   173       SoKnow English    26K   112 Hours   37       SoKnow Korean    4. 2K   23 Hours   7       SoKnow Japanese    35. 3K   155 Hours   24       SoKnow Russian    6. 6K   82 Hours   14       SoKnow German    3. 5K   18. 3 Hours   5       SoKnow Finnish    7. 4K   7. 6 Hours   8       SoKnow Arabic    683   2. 8 Hours   1       Total   110,000   836 Hours   322   Two years, and even all channels combined don’t reach the “minimum” criteria for monetization (4,000 watch time and 1000 subs). But it’s very likely that it would have, if the content was uploaded for 365 days (instead of 2) along with consistent improvements. This is not adding value!: While I agree that the videos uploaded might not have added as much value to the world, but I’m pretty sure that some users did find them useful. We can confirm this with the number of Likes on the videos, and watch time. It's all about perspective. Most people learn things through videos, and a lot of information that’s in English is not readily available in other languages, for example look at the SoKnow Japanese Channel. Not only would the search engines fail at bringing information to those users through search – discovering and translating the content is another major hurdle for users in different languages. “Quality” content is subjective, and I can easily argue that majority of content online today is not only useless, but harmful. Some Learnings from this Experiment: There were lot of fundamental learnings from this little experiment. Some of them are “of course”, when you think of them deeply, probably not. 1. Break down of Grand Vision into mini ideas: I’m happy I didn’t go down the path of first learning how to build music with AI. It would’ve taken me fairly long time. It’s very likely that the fact that Youtube Quota is a thing, and it’s so limiting for uploading videos would’ve skipped me for months, and I would have regretted spending time making sub-par music files built with AI. Thanks to using Wikipedia text, I was able to identify this issue relatively early on. 2. Limitations of Dependencies: If you’ve ever played Slither. io, or at least heard of it, note that the creator built it mostly alone, and declined to use Cloud services to host the game. He ran all of it from his own house on bare metal. Most great engineers don’t like dependencies, and there’s a valid reason for that. The more dependencies you have, the more areas of surprise elements there will always be. Yes, it's worth it. Before starting a project, always note the limitations of the services you’re planning on using. Note: Smarter thing would be to first write a Design doc about what the project is, what are the dependencies etc. , but their efficacy for personal projects is questionable. What I definitely recommend is to create a sort of check list or breakdown for myself, to make sure all grounds are covered, but in this case, “quota limitation” was left out, thanks to my mind subconciously convincing me about “50 UI uploads” 3. Beware of Derivative Products: Maybe Youtube had the API quota set to 50 uploads a day, but they could still change it anytime. Youtube is an independent product, continuously being improved, experimented and built upon. If you’re building a product that’s a derivative of another product, it will always have the big risk of failing at anytime if the product you’re relying on falters. Was it interesting?: I hope you found this experiment interesting and it brings out some thoughts and ideas in your mind. If you’d like to share your thoughts, I would love to hear them. Feel free to connect with me, or subscribe to my future posts below. Alternately leave a comment on the Youtube video. Or wherever you found this article.  Closing thoughts: I was bummed that it didn’t work the way I had hoped it to, but I am content that I tried it. If you’d like to take a look at the code, this Gist was one of the most updated ones: Github Gist of Code here. Note the code is very scrappy, not well structured, but it works. You are free to use it, copy it and break it. At least a hundred plus channels on youtube have done it incredibly well, for example this one: Emma Saying which has over 600K subs, and it just outputs one word from Google Text-to-Speech and makes a video about “pronunciation”. Most of them had much earlier start which was critical to their success. I also wish I had started my own Youtube channel before, but hey, better late than never. I bet you’ve probably had some hacky, interesting ideas too, and all I want to say is → Just do it! What am I building now?: I’m currently working on YRL - A platform that enables you to make partnership deals based on CPC and CPA, just like how Adsense and Adwords does it for Google. YRL for Businesses "
    }, {
    "id": 8,
    "url": "http://localhost:4000/dont-just-create-value/",
    "title": "Creating Value isn't Secret to Success. It's Common Sense.",
    "body": "2021/10/01 - I keep hearing the phrase “Value Creation leads to Wealth”. It’s true to a large degree, but not the complete truth. Value Creation =&gt; Wealth?People in general tend to overuse the phrase “Value Creation” all the time, simply because it’s good to hear. Oh, look at Google, Amazon and Apple: they are all creating value for a large number of users, and that’s why they are so successful! It’s logical. Makes sense. And satisfies our inner desire of becoming wealthy with coherence.    If you're like me and prefer visuals, here's the video. The truth is every startup every business is creating something of value. There’s no startup or business that’s just trying to fraud users or trying to build something that’s completely useless. Actually, I take that back. There are some startups who are making stuff like that, and many of those have been very successful in the past. World is IRRATIONALThe world is not a rational but an irrational place. A lot of things that happen don’t necessarily have to make sense. They could make sense if we change our perspective. We are Irrational. Look at most startups in the tech industry and over 90% of them fail without actually making profit for the founders (unless of course they raised a lot of capital). But look at the non-tech industry, for ex. fashion, clothing, mock jewellery and so on and you will see that a large number of businesses in that industry are hyper successful. Yes, there are not so many hundred billion dollar companies but there are many businesses which are fairly successful. As an example let’s take “drop shipping”. If you don’t know what it is read on, else skip to the next section. What is Drop Shipping?: Imagine someone wants to buy product X. There’s a seller Y that sells X but has a poor site, design and reach. You create a better site, do great marketing, and start getting organic traffic. Everytime someone places an order to your site, you instead make that order with original seller Y, and give the customer’s address for delivery. You neither had a product, nor managed any part of the entire product’s journey. But you made a profit at customer’s expense. “Value Creation” in Drop Shipping: There’s no “Value Creation” in Drop Shipping. Product already existed, need and customers already existed. You simply created a fancy website, marketing, and an added commission to the product. Essentially a longer route for the same product sale. Well you may say that this new fancy site, and its listing helps users to discover the product. But the truth is that the users would’ve found the right website on their own if the internet wasn’t stuffed with these unnecessary complicated routes of Drop Shipping websites. It’s a similar reason why Amazon is full of product listings of the same product with different difficult to pronounce Names. $1000 T-Shirts: Another industry is clothing, for ex. t-shirts, dresses and common wearables. Most white T-Shirts for example cost three or four dollars in a regular store but there are many brands which are selling the same t-shirt for hundreds, or even thousands of dollars. They are generous. They didn't charge $699. $9 savings for you :)Why? Because the expensive T-Shirts are branded much differently. They hire famous, good looking models, and run expensive Ads to build this brand value and image over time. Events from Last Year!: Do all the events in 2020-2021 make logical reasoning of Value Creation? Take Off. From Meme Currencies (yes, Doge Coin), the undisputed and most controversial NFTs, and all the other stocks that grew 10x because of Short Squeeze, there are enough examples that we can discuss with no end in sight. What gives?Exacty. The reason for all of the above examples is not value creation. That’s inherent in everything we as humans do. The reason for success of these products, ideas and services is perceived value creation In other words if you make something that has a very high perceived value even though the product may not be of high value, the chances or the likelihood that you will succeed is very high. Whereas if you create something of value which has nil or no perceived value it’s going to fail regardless of how big an impact that may have on the world. You may say this makes a lot of sense and it’s also common sense but it’s not. If it were, most of the businesses and startups would not start with creating a product, by spending hours and hours of writing code and building a product. Instead they would spend that time and resource in making something of high perceived value, even before it exists. The question is how do you make something of high perceived value? The answer is by ‘not making a product’, but instead spending all the energy and resources in making the hype around the product. It’s commonly known as Marketing. The loop hole in the Value Creation theory. YRL → VIRALWhile you’re still here, you might want to check out what I’m building. It’s “real value creation” to create “perceived value creation”. YRL enables individuals to create CPC and CPA campaigns to partner with any creator. YRL for Businesses "
    }, {
    "id": 9,
    "url": "http://localhost:4000/becoming-a-creator/",
    "title": "'The Unconventional Founder' Youtube Channel",
    "body": "2021/09/28 - After overcoming a deeply rooted resistance, I finally started a Youtube channel. This post explains why it was so difficult, and what understanding convinced me to do it. I believe we learn better with visuals than reading, so here you go:   Namastey! Like and Subscribe :)Still prefer to read? Read on. The Hesitation: I’ve been deeply inspired by great tech founders from Larry Page, to Elon Musk. From Steve Jobs to Jeff Bezos. All of them have built incredible products and companies, though none of them have been active content creators. Everytime you see a video of them on Youtube, 99% of the times it would be that of an interview in a conference. The rest 1% is when they are introducing / launching a product to the world. From the founders of Youtube all the way to founders of Alphabet / Google, none of them have actively created content themselves (except of course, the first video on Youtube). There are few simple reasons for this.  Creating Content takes time, which tech founders could be spending in building products, teams and scaling their services.  Technology startup founders usually have a different type of personality than those of content creators.  In tech sector, even today, writing is a much more preferred medium, and a more powerful way of conveying messages to the world, with Audio only podcasts as probably the closest cousin. No wonder Elon Musk sticks to Twitter, and so do 99. 9% of other people in tech industry.  Tech founders and engineers prefer to be private in general. You’d never really know where these founders are, or how they are spending their time. It’s probably because they understand technology and its drawbacks way more than most people can.  It’s better to be wealthy and anonymous than to be rich and famous. I have always identified myself to be one of those founders that remain private, away from public eye. Spending time hacking problems that impacted everyone. But in the last few months, something changed. As if a button flipped, and all of a sudden I wanted to be a content creator. A Youtuber as it aligns the most with my personality, and very committed to creating videos about anything and everything. The Switch Flip: There wasn’t one single moment, but a lots of them that one after the other just kept blowing up my mind. 1. Share Mistakes and Learnings: As a technology startup founder, if there’s one thing I’ve been doing consistently is making mistakes, and learning from them. When you undergo an experience like that, there’s an internal voice that wants to share those learnings with someone who may find it useful. It’s more stylish and pep thing to be a startup founder today than it has ever been. There’s an exponential increase in the number of startups worldwide, and I believe we are still at the beginning of this global explosion. Every single year to come, there will be more entrepreneurs than there have ever been in the past, which means if I share my learnings, the potential audience that might benefit from those learnings will continue to grow. 2. Give Back: Like you and everyone else today, most of what I’ve learned is from others online. Be it through Blogs or Youtube videos, then why shouldn’t I give something in return as well? 3. Not enough Practical Channels: There are a lot of channels on youtube that teach how to write code. There are also lot of channels which talk about startup “wisdom”. But I still feel the gap between the two categories. There’s still not enough video content that takes someones from coming up with an idea, all the way through executing it IRL. There’s a lot of content that does this well but it’s spread sparsely through blogs, and reddit posts. I’m hopeful that I can help in reducing this gap. 4. YRL : Get Yrl, Go Viral!: I built a product called YRL (getyrl. com), where Businesses and Creators can partner with Cost per Click and Cost per Conversion campaigns. It’s blazing fast, simple and easy to use. I’d call it Robinhood of digital and affiliate marketing. Checkout YRL → I made the product as a Business because marketing a product is really hard today thanks to the ocean of content online. But the story was still incomplete. YRL is not just for Businesses, its more for Creators. If I want to make YRL successful, being a Business is not enough. I should be a content creator myself. 5. Pushing Comfort Zone: Recording, Editing, Publishing, and Promoting content in its entirety is a different ball game than anything related to writing code, thinking of architecture. or building a product. Coding skills don’t help at all to be honest (trust me I tried making videos using Python!) Learning each of these bits is a new challenge for me, and a big way to grow personally. 6. It’s Unconventional: While there are channels for almost every type of content, it’s still pretty new for founders of tech startups to post content online. This is because historically, the personality type of tech founders has been very different from that of content creators (Youtubers for example). There are probably a handful of tech founders who are actively creating videos online. It sounds unconventional, and thus my calling. 7. New Territory: Making Youtube videos is a new territory for me and it comes with its own challenges. From learning how to record, edit and create engaging content, to how to get more views, likes and subscribers, there are more things to learn in Content Creation than I could have ever imagined. 8. Passive Income Source: Other than the stock investments, I don’t really have any passive income. I’m hopeful that at some point creating content would bring in some passive income to support my entrepreneurial journey. 9. Run Marketing Experiments: What if I could run not one, two but thousand different marketing experiments? As a founder it sounds incredibly exciting. This is true for social media and making videos. To be able to run so many experiments, feels like a super power to me, and I’m really excited about it. 10. Ability to Convey Ideas: All of the above reasons are valid and good reasons, but the biggest reason why I want to solve is because I want to learn how to convey ideas that stick. It the most important part of any successful startup, probably the only one, and if I can master it, I can make not one but many, many successful products. The Journey Begins: So here I go, the next phase of my journey -&gt; making popular videos online. If you haven’t already, don’t miss your chance at 10 years of good luck. Like and subscribe to my Youtube channel 👇 “The Unconventional Founder” "
    }, {
    "id": 10,
    "url": "http://localhost:4000/great-user-experience/",
    "title": "Product Lessons from $1 Lint Remover",
    "body": "2021/01/22 - What is a great product user experience? This article shares the product lessons hidden in mighty Lint removers. My black jeans looks ugly: A few days ago during a call with my friend, I was asked a simple question: how to remove white particles (lint) from brand new black jeans? My friend who I was on call with, had recently bought a black pair of jeans. Right after leaving home he realized that it was full of lint which made this brand new pair look like an old used jeans. This problem is quite simple if you know the solution, but if you don’t know how to solve it, I promise that it’s one of the hardest challenges humans have faced in the field of personal image and self confidence. If Seinfeld was Indian, there would be a show on Lint: Growing up in India, I witnessed lint as a big problem. It’s just that neither I, nor anyone I knew had a solution to it. Lint always appeared on woolen coats during winter seasons and affected everyone without a bias. I was exposed to brushing the coats, the only known solution, which seldom made a difference. Year after year, people would buy expensive coats for winter, and soon they’d be destroyed by varying kinds of lint. On special events, helpless and without a choice, people would wear their fancy linted coats that looked old and worn out. I wonder if this was one of the reasons why my mother never let me buy black clothes (this and the summer heat). Years ago when I first moved to the US, my another Indian friend had proudly introduced me to the lint remover. He got it from Dollar Tree, and the joy on his face sharing this discovery with me was the same as if he had won a lottery. He (and now I) had discovered the solution to a decade old problem that affected our self confidence; perhaps still does to a billion+ people. Aha! It’s magic!: (Back to present. ) During the ongoing call with my friend, I shared my profound wisdom and exposed him to the mighty lint remover. After 20 minutes I got a call back from him. “It’s magic!” he exclaimed. I vicariously relived the joy in that moment. Aha!We next discussed what a great user experience is, and how I should focus on creating products that bring out a similar Aha moment in users. What’s a great product?: A great product isn’t necessarily the one that uses ground breaking technology. It’s the one that solves a real world problem for users – very simply. It doesn’t matter how many users use it, for each one of them the experience by itself should bring joy, relief, and a feeling of eureka. Mightly Lint RemoverA lint remover -  solves a real world problem that affects most people who wear clothes takes few seconds to understand and few steps to use can be used anywhere, and is independent of any other technology immediately solves the problem, with impact highly visible to the user is cheap, uses simple technology that is easy to produce and scaleUsing Youtube, Search, or Video Chat applications may not feel like eureka! to us anymore, but try to imagine what emotions they bring to someone who has never used these products before, better yet, never imagined their existence. It’s a feeling of joy and wonder that has the sound “Aha!”. Of course these are high tech products, but they are nowhere close to discovering uranium, or successful genetic cloning. Note: I talk about Lint removers as a generic product, not a product from X company which is sturdy and fits in travel bag. In this sense Lint Removers can be considered as an invention. Most startups creating new unconventional products fall in a similar category. My projects fail the Lint Remover’s baseline: After the discussion with my friend, I started to think: why has he never called me up after testing my early stage projects? Why am I not building things that bring out the same emotions in him as does a $1 lint remover? For a moment I felt dejected. In a few minutes I had the answer. If Lint remover was such a great product, why did it take my friend so long to discover it? My friend had this eureka moment, not because Lint remover is a great product. He had this moment because he found it when he had a pressing problem problem at hand, affecting him personally. If I shared the same product with my friend when he was wearing blue jeans, I doubt he would have had the same experience. In other words, creating a great incredible product isn’t sufficient. The lint remover doesn’t become mighty lint remover until it reaches people who are experiencing the problem it solves. Creation isn't enoughDistribution, availability, and introduction at the time of need are, if not more, as important to the product as the invention itself. Could this be the reason why my friend hasn’t called me to share the Aha! moment he had while testing my projects? The job of a creator doesn’t end at creating the product that’s cheap, simple, scalable, does the job well etc. The job of a creator ends when the user in need discovers, uses the product to solve a problem and says ‘Aha! It’s magic. ’ "
    }, {
    "id": 11,
    "url": "http://localhost:4000/longterm-thinking/",
    "title": "Wow, how cool I did that then!",
    "body": "2021/01/14 - In the last few weeks, the power of long term thinking has been consistently on my mind. This post is dedicated to long term thinking / actions, and an attempt to answer the age old interview question: “Where do you see yourself in 5 years?”. Interviews and Goosebumps: Over the course of time, I have given a lot of interviews for different positions. Every single time, no matter how many interviews I have given or aced until that point, I still get goosebumps. One age old question: “Where do you see yourself in X years” keeps coming up either in interviews or during preparation. The purpose of this question is to know the aspirations of the candidate and see how the given position will fit in their grand vision of their life. I have always hated this question. Hate is a very strong emotional word, and I’m aware of this. There are few reasons why I am so passionately against this question: Interviewer: Where do you see yourself in 5 years? (honest responses in my head)  Should I say what I really think, or should I say what you want to hear? I would like to live like James Bond, travel the world, drive fancy cars and look cool. Just kidding (I’m not).  Do you have nothing else left to ask but this old question? I want to run my own company. Oh wait, how is this job going to help me get there? 5 years… isn’t that too long to start my own thing? I should do it sooner. Why am I here again? Oh I need a job to pay my bills.  There are too many things I want to do. Which one should I say? I’m still figuring life out.  If my ambitions are bigger than yours, how do I know your ego won’t reject me? I want to make XYZ amount of money, life standard, position. But that’s an outcome, which isn’t necessarily in my hands pay off the loans. Take care of my parents. Travel a lot! Will I be judged now? How is this answer going to increase my odds of selection? To be honest, this is a very personal question. You’re asking me my dreams. They are close to me, and heavily protected. I’m afraid I can’t answer this as I barely know you. How about, where I see myself in next 6 months?I have been asked this question a few times. The time that I remember well, my response was a well rounded diplomatic one. Something on the lines of becoming capable and deserving of doing something big. I got that job. Clock of the Long Now: Few years ago, I read in news that Jeff Bezos is spending millions of dollars to make a clock devoted to long term thinking. I really liked the concept and idea of this. It’s an expensive clock, but it carries an important message. It’s also one of the very few monuments that our generation is building that could potentially stand out in future. 10,000 hour clock prototypeIn most of his interviews, Jeff Bezos talks about power of long term thinking. Not only him, but most leaders keep iterating the same phrase over and over again. Sundar Pichai in his investor calls often repeats: “we are investing heavily in long term bets”. While I’ve always really liked and believed in the concept of long term thinking, as years are passing by, my understanding of this concept is growing deeper. Mostly because now I have some personal decisions I took in the past that have visible impact on my life now. Some of which I say “Wow, I did this then”, and also those that make me say: “I wish I had done this then”. The feelings of joy and regret on past actions get more intense with every passing year. Jeff Bezos must feel this even more intensely; so much that he decided to spend time and energy into devoting a heavily engineered clock into it. Long term thinking is real. You’re not alone feeling this way Mr. Bezos. How about a more meaningful question Interviewer?: Where I see myself in X years has lot of caveats and real world variables involved. I can’t really say something that I haven’t decided or am unaware of its existence. I also can’t say something that isn’t completely in my hands. As an intelligent being applying for this job, I definitely shouldn’t say any of this as I might come across undecisive, and as honest + meaningful this comment may look in this post, it won’t get me the job which requires “proactive, decisive self starters”. What I want to do in X years has much to do with those X years, as they have the power to shape my aspirations. But what if we asked a slightly different question?  What are the X things that you’re doing today, that you will see results of in 5 years? Well, there are many! I am  working out every other day, so I’ll be stronger, healthier and more attractive.  giving this interview, and hopefully I’ll have a more secure immediate future. If not I’ll apply to other places and depending on what I learn my career would take shape.  learning xyz instrument so I should be able to play at least few songs :) writing a list of all the places I want to see in the world. Just applied for my passport… let’s see how far I get.  listening to pod cast on habits, and becoming better version of me. I’ll have a greater personality in 5 years.  reading a lot about investing and becoming rich.  improving my communication skills.  writing on medium, reddit and twitter / creating youtube videos, perhaps I’ll have a side income in 5 yearsMost humans are not static states, but more like dynamic stages of evolution. We simply aren’t; we are becoming. There’s value in asking what we are becoming, not what our present self thinks what we want to be.  We simply aren’t; we are becoming. That’s awesome but how in the world is this question going to help me review the candidature? Well, for one you’re asking a more meaningful question, so you can expect a more meaningful and honest response. There are few things you can get out of this question:  Learning more about the candidate, how they spend their time and what’s important to them.  Actions today show what I’m really interested in. If someone wants to be social media marketer, but hasn’t even tried uploading a video on Youtube, or on any other social media platform, it’s highly unlikely they will lead that path.  Leadership inherits long term vision. If I’m spending time doing something consistently, I must be internally motivated to do it. Motivation to do something for long term can only be due to a larger goal, a vision. This is an important leadership trait.  Determine passion: it doesn’t matter if it’s collecting old song records, or listening to audiobooks everyday. This question indirectly shows what the person is passionate about, or if they are even passionate about something at all. Depending on the profile, the question can be tuned, but it definitely opens up the conversation into a more meaningful, less defensive and more productive time spend. Mango Seed Whistles: I grew in northern India and as a child, I used to look forward to mangoes every summer. When I was little, my mom showed me how to make whistles with Mango seedlings. If you’re curious what Mango seed whistles look like, I found this video on Youtube for you: Part of creating this whistle requires that the Mango seed to be sowed into the soil for a day or two, while waiting for it to germinate. As I used to eat lots of mangoes, I would put all of them in soil in our little backyard. This one time, I forgot to take one of the seeds out of the soil and it started growing into a plant. My parents didn’t remove the plant, and it kept growing bigger. As I grew up, so did the mango tree. By the time I was a teenager, the tree started giving mangoes. The mangoes were smaller than market bought mangoes probably because we never fed the tree anything except what the soil already had, yet they were delicious. There’s another concept called grafting, which I would learn about later, but I digress. Mango tree from internetThe mango tree I grew as a little boy unbeknownstly was an investment. What could happen if I plant trees knowingly, constantly and consistently? What seeds am I sowing today that I can reap in 1, 2, 5, 20 and 50 years from now? As time is progressing, I keep wondering about these questions and scratching my head thinking what I should be investing in now. The future would be amazing if I look back and only have to say: “Wow, how cool I did that then”. "
    }, {
    "id": 12,
    "url": "http://localhost:4000/guide-to-cloud/",
    "title": "How to use Cloud without losing sleep",
    "body": "2021/01/13 - A hands on guide for individual developers, small teams without dedicated SRE or oncall teams to using Cloud services safely. Introduction: About a month ago, I published two blog posts on our company blog sharing one of our stories that form our journey: We burnt $72K and almost went bankrupt. The post was fairly well circulated in the tech community, and inspired me to write a post dedicated to the hacks that help me sleep better at night without having an oncall team to manage all the cloud services. This post outlines practices I learnt and now practise for keeping a check on Cloud usage, and an attempt to eliminate possibilities of surprises.    Here's the video you are looking for. Disclaimers (!):  1. If you're capable of hosting everything on your own server(s) . . .   Congratulations, you're one of the very few who have this knowledge and experience. You know what you're doing and keep it up. Depending on whether you have interest in Cloud platforms, this post may or may not add any value to you.  2. Examples are centric to GCP but fundamentals should apply to all platforms Although examples in this post are on GCP, I've tried to structure around some fundamental vs. platform features. All cloud services have similar features, but they have different names, prices and usage policies.  3. This is not an exhaustive list Like everyone, I'm still learning and growing. Below is what I learnt from several mistakes, figuring out solutions on my own and going through every piece of literature online from great kind minds. If you have more tips, feel free to share with me, and I'll be happy to add it to this list.  4. This is a long post Sorry about it, but there's no way around it. If you find it useful and can't finish in one go, you can always come back to this post. Let’s jump into it!: 1. Use multiple forms of payments (FOP), preferably with spend caps: Let’s begin with the simplest yet the most effective fixes.    Have spending limits/caps on the forms of payments (FOPs) you use. Most cloud services have a monthly billing except if a threshold spend is reached. If the threshold is reached, the Cloud platforms charge the given account right away. If for some reason, one of your services faulter, the cloud service would directly charge the form of payment (like credit cards) on file, and on non payment, stop the service.   Ideally the spending limit could be anywhere between 120-150% of the cost you expect to incur given the usage of your platform.   From what I’ve read, it’s relatively easier to get bill waived off than get a refund. While the suggestions in this post will make sure such situations don’t arise, it’s better to have it set up anyways.      Don’t use your $25,000 no limit credit card while setting up billing for a fresh account.       Use different FOPs for development and production. After we messed up in one of our projects, our credit card was declined, and this had several unexpected ripple effects.      First GCP suspended all our billing accounts tied to the same credit card for a suspect of fraud.    Second, our bank started suspending all future transaction requests from GCP suspecting fraud.     Sorting this took several days, and it halted our development cycle. Thankfully we didn’t have a production service back then.   In an ideal setup, I recommend using one FOP for production account, and another one for dev/test accounts. Never mix these two.  Note: If you’re a solo developer, I highly recommend setting up an LLC or some umbrella that gives your personal assets protection. Doesn’t matter where you live, in recent years this process has become quite standard everywhere in the world, thanks to the entrepreneurial boom. Some wise people online have suggested setting up a shell company (!). I personally don’t recommend spending time doing this. If you’re building something meaningful, spend all your time making it better in a legit way. 2. Setup Service Quotas: In GCP users can define “Quotas” for most services. AWS has similar feature called “Service Quotas”, and I’m sure other providers have this as well. Depending on type of Quota, some of them can be set for usage per day, per minute or even per user per minute. I don’t really trust the per user quota because who defines “a user”? The others quotas for the most part are fairly reliable.  While GCP doesn’t allow auto cut off on billing, it does allow auto cut off based on usage, well at least for most services. For any account with billing, when I enable a new service, I first check if there’s a quota, and if there’s one, I set it to really low while getting familiar with the service. A lot of the services are charged per use and setting up this quota also helps in validating the costs that will be incurred on use. As an example, if I’m testing GCP Adult Image Classifier service, as soon as I enable the service, I would first set the Quota to 100 per day and then try the codelab provided. If the cloud provider you use neither has auto billing shutoff nor budgets, it should be a big red flag for you to use the service. Some Caveats:    Default Values are counter intuitive!Most services have a preset default quota of unlimited or some absurd value like 1,000,000. Why? God knows. Maybe GCP engineers never paid attention to it, or they assume each of their users, considerable population of which is students, build apps with million dollar budgets. Setting quotas is also multi click arduous process probably because they are optimized for large organizations. Don’t fret the extra clicks, it’s worth it.     Not all services have Quota limitsFor example Firestore Read/Write ops. From engineering standpoint, this is understandable because if the service has to check for quota, how can it be real time?Don’t assume that every service has a quota.     Not all quotas work as advertisedTest each of the quotas before fully relying on them. I found several that don’t work and my consults led to bugs with Google. The bugs are not fixed yet, and so if something were to go wrong with those services, they would act as a fall back because it’s an issue on GCP’s side.  3. Cloud Monitoring: While billing is delayed by about a day, most metrics provided by Cloud platforms are delayed by only a few minutes. For GCP this is called Cloud Monitoring, for AWS it’s called CloudWatch and in Microsoft - Azure Monitor. These monitoring services are either free for the project services (standard metrics), or available at very, very cheap prices. Setting up Monitoring wasn’t really in the face when I started using Cloud Services, nor is it generally advertised, but it’s a great feature that everyone should use. What it allows:  Creating beautiful custom dashboards with usage graphs for the services you care about Creating alerts that fire if usage goes beyond a user defined limit. The alerts can be SMS, email and app notifications. How to use Monitoring service:    Set up AlertsYou can also set up alerts that’ll fire emails, text messages and mobile app notifications, all for free. While they may not be of much use while you’re sleeping, they do provide a lot of support while you’re awake.   Case study from our development cycle:During development of our first product Announce, one of the engineers on my team developing locally (live build on localhost) accidentally created an infinite loop that led to infinite Firebase read ops for a few minutes. We had a free limited project for development so nothing could go wrong, but the monitoring alerted me and I reached out to the team to see what was up.   The only down side in this was that we had a very limited quota remaining for the day and the team waited until next day to resume development.     Look for spikes  Always take the time to explain spikes in usage. Most of the graphs may look daunting and it’s probably not worth understanding each and every metric and figure. To simplify your job, just look into anomalies. After few steady days, your job should be to watch out for spikes in usage as compared to the usage in longer period of time. Set the usage to 6 weeks and see if there is a spike. If there is a spike, it should be explained, say too much local testing, surge in usage, expected triggers etc. Looking for spikes only takes 2-3 minutes for the dashboard to load, and your job is done. This should be part of daily working routine if you have any service deployed on cloud.    Anticipate and Reduce CostsAs the graphs are only a few minutes late, after doing something you can wait for a few minutes to see what resources you consumed. You can also predict costs of something before it shows up in billing.   Another big advantage is aide in reducing costs! For example, looking at Storage, I understood that GCP was continuously storing build artifacts from each build which took a development project storage that shouldn’t be using anymore than 100MB to 25GB. There are ways to fix this, but as a developer, one must know that this problem exists.  High execution time could mean under allocation of resources, leading to more cost. Another example is memory or CPU consumption from the deployed services. Some graphs can easily tell if you have over/under allocation of resources to the services.  Write better CodeThese graphs easily show low hanging fruits to optimize code. Maybe your cloud function is going into background processes, or perhaps its timing out due to some other service being called serially (instead of asynchronously). 4. Use Free Projects: Cloud Platforms today provide a lot of free services per project, and there are a lot of projects that a user can create. There’s a reason why the systems are set up in such a way. Primary reason, as far as I can think of, is to give enough room for testing and learning about the service. Firebase and GCP allow more than 10 projects, which can be extended further. If there’s some issue with your account, you can always file for an extension. That’s great… but how to use these free projects? Basic Environments for Software DevelopmentWell, for one, set up multiple environments. Software development cycle is common knowledge so I’ll be brief about it. In any project ideally you should have dev, test, staging (alpha), preview (beta) and production environments. No matter how small the project be, you should still have at least dev and prod environments that are completely decoupled from each other. Read that again: completely decoupled from each other. Sample project structure using Firebase, and GCP resources in different environmentsYou can use a free firebase project for development, and a paid one for production. If you have backend services that need cloud sources, you can grant permissions to your free project sources to the paid project service accounts. This topic could be an entire post, as creating an architecture that supports multiple environments (dev, test, prod) for multiple platforms (Web, Android, iOS, API) can be a little complex. Granting permissions of one project to anotherAn important concept to understand is types of accounts and accesses. There are two types of user accesses in services: 1. Access to human, and 2. Access to a service account. Ideally almost all accesses should be only to service accounts and none to humans (except maybe admins). In GCP it’s possible to give permissions to access resources of one project from another project, which is a great feature. I’m very sure every other platform has the same feature and I highly recommend using it. 5. Spend good amount of time understanding and predicting costs: Before going through any codelab for a service, first spend some time on Pricing of that service/feature. This is tied to designing the architecture of a project which can be a long post of its own. Most cloud services now have a great cost calculator (GCP Calculator here). This is a tool for developers to decide whether and how to use that service. Spend some time on these calculators, and test the costs in extreme cases. Over the course of time, I have started testing services for a day or two in a safe environment (development account). Wait for the billing to process and when I understand it correctly, then move on to integrating it in the product. A better approach would be to predict costs before and then test the service. The cost of service and your prediction should match. Never assume the pricing works as is because there are lot of factors to consider. 6. CICD = Operational Efficiency: Time spent in CICD is like time spent in converting cube into sphere. Any project that has billing enabled, should only be accessed by machines (service accounts) and not humans. This means all code should be deployed through CICD piplines triggered after code merge, which should ideally only happen after code review. This falls in operational efficiency, and it doesn’t matter how small your project be, it’s a good idea to set it up like this because there’s no reason not to.  Time spent in infrastructure is like an investment. Over the course of time it will save you time and energy. Less human intervention is better, both for security and efficiency. If you’re on Github, Github Actions is one of the most valuable sources available, which is mostly free. Until now, there hasn’t been a month that I paid for Actions and I manage lot of CICD Pipelines. GCP Cloud Build gives 120 minutes per day per billing account free, which to be honest is a lot. Unless you’re deploying ML models, or have lot of projects + large team, I highly doubt that this free tier would be breached. Firebase has a great CLI, but I don’t recommend using it for deploying to production environments. For one, it’s harder to version the code and you might end up deploying buggy code. Second, any change in the deployment has to go through your machine. CICD forces you to be good at code management and versioning, and that’s a good thing. What if I have to deploy just one function?I still recommend setting up CICD because it’s reusable. Once you’ve figured out to set it up for one function, all your future deployments will require zero work. 7. Protect the keys!: No Key == Better SecurityMost starter codelabs suggest downloading “service-key. json” and setting the environment locally. This is a great suggestion for someone testing a new service on free projects. However, any project that you plan on adding Billing, don’t ever download a key. It’s just not needed, and there’s lot of risk that goes with it. For example you may accidentally add it to a git commit, forget to delete it while sharing code, or simply leave it somewhere on your system.  Simplest solution to securing keys and tokens is to never download them. I do download service keys but only when absolutely required, and only for development accounts that are on Free plan. For example in order to use Firebase emulator. When keys are needed in CICD, encrypt them right away and delete the local copies before committing any code. You can easily use encryption on Cloud without spending any time learning it. KMS and Secret Manager are as simple as it can get. 8. Multi Cloud: If you have resources and not bootstrapped with an extremely small team, you probably are using more than just one Cloud. DO, GCP, Azure and AWS, all have some great pluses and minuses. If you have dedicated dev-ops and SREs I highly recommend making use of multi-cloud. However, if you’re a solo indie developer, or a small startup, I recommend using just one cloud unless you really need just one feature from another cloud service. This, because each cloud service has its own dictionary, and learning curve.  ‎”I fear not the man who has practiced 10,000 kicks once, but I fear the man who has practiced one kick 10,000 times. ”Bruce Lee It doesn’t matter which service, which language, which platform you choose, my recommendation is to spend as much time on it to learn and experiment that you’re the most knowledgeable about it. Each cloud provider has similar set of tools, but using them, understanding their pricing/dictionary, and navigating their console takes lot of time to learn and adapt to. My recommendation is to master the one you choose and optimize your usage based on the positives and negatives of that platform. 9. Read the best practices from the provider: Think of cloud providers as coffee machines. The fundamental principles of making coffee remain the same, but the engineers who design the machines chose to prioritize a certain set of features that lead to certain design trade offs. The machine must be used in a certain way to work the best, and certain things should always be avoided. Cloud Platforms are very similar to fancy expensive coffee machines in this way. They come with a guidebook manual that’s continuously evolving, and often has a set of dos / don’ts included. I highly recommend going through the dos and don’ts for each of the service you use not only for best performance, but also to avoid unnecessary troubles. Good example of this is Google Cloud Run development tips. This article clearly states that developers should avoid background activities. If you as a developer didn’t go to this page on your own, and wrote a program that has some potential background activities but works perfectly on your local machine, you’d never realize why your code performs so badly on Cloud. Point being, always proactively look for best practices for any service you use. SO and Medium have some great resources for most services :) 10. Billing Budget Alerts / Notifications: Every single guide, article, post recommends setting up billing alerts, and auto shut off cloud functions. This my least favorite feature, and the last on my list simply because it’s not proactive but post facto. I do recommend setting Billing/Budget alert because it’s there, but it isn’t a feature I suggest anyone to rely upon. All of this to deploy simple code?: Well, it depends. If you’re deploying a small Cloud Function or equivalent thereof which has no possibility of backfiring then probably not. If you’re deploying a scalable product that has multiple connected services and you don’t have deep pockets, I recommend suggestions in this post. Building something from scratch, and making it economically scalable isn’t an easy task. It doesn’t matter if your product cures cancer, or you’re working on a spam attack, building anything requires substantial amount of work. There’s a reason why SREs are paid so well across the industry, and there’s a huge constant demand for them. Thankfully the world is becoming better everyday with better free tutorials, codelabs, and people sharing their awesome strategies on SO for free. Key is to begin :). Sleep like a baby: Great Sleep == Great Productivity. This post covers the basic setup that I usually do for any project that I deploy on Cloud. All of this helps me sleep well at night without having any SRE or anyone in dev-ops. Well, that’s probably not entirely true as each of the big cloud services have tens of thousands of brilliant engineers that I can easily piggy back on. There are several service specific hacks not included in this post, which I might write about in future. This is not a sponsored post. There are no newsletter signups, no affiliate links, no product promotion. If you found this post useful, share it. If you’d like to get my future posts, or just want to say hello, connect with me. "
    }, {
    "id": 13,
    "url": "http://localhost:4000/namaste/",
    "title": "Namaste",
    "body": "2020/12/28 - Welcome to sudcha. com! This is the first post of the blog and I’d like to share how this site came into existence, and what purpose it serves. Introduction: This site will host my experiences, learnings and thoughts to the potential reader(s). Honestly, I never really thought of writing content on my own site. Instead I always believed that it makes more sense to write for the products I am/was building. Earlier this month I wrote a blog post on our company blog: “We burnt $72K and almost went bankrupt” which sort of went viral. There were definitely more than 72K views on the blog post, and it was translated to more than few languages on popular sites across the world. I published the blog on our company blog because it was connected to our company’s journey. It was after publishing the blog post that I realized that there’s so much I could share, most of which won’t be a good fit for the company blog but definitely acceptable on my own, which brings us to this blog blog. sudcha. com. Topics and Periodicity: This blog isn’t for a particular niche, because honestly I’m all over the place. I intend to cover topics from business, engineering, technology and random rants. Writing isn’t my first priority, and for this reason, many of my posts may be sporadic, and about past events. Everything is an expression: I believe that everything in the universe is an expression. In fact, the universe itself is an expression of itself. For us humans who have relatively more choice and freedom than other species, everything we do is to express ourselves. Everything is an expression. From how we drive, dress, write, create and share, everything is an expression of our existence. This blog is a channel for my expressions based on my learnings and experiences. I hope the posts here provide some value to the world who has given me so much. Future Posts?: If you’d like to get updates, you can subscribe with your email address at the end of this page. Alternately, you can also connect with me and I’ll post everytime there’s a new blog. Love and Hate: There’s no comment section on the blog yet, but depending on how popular (or unpopular) it gets, I might consider adding it. Regardless of how good or bad the content is, there shouldn’t be room for hate. If you don’t like the content, you can simply click here. If you like it, share it, add references to it, and keep reading on :) "
    }];

var idx = lunr(function () {
    this.ref('id')
    this.field('title')
    this.field('body')

    documents.forEach(function (doc) {
        this.add(doc)
    }, this)
});
function lunr_search(term) {
    document.getElementById('lunrsearchresults').innerHTML = '<ul></ul>';
    if(term) {
        document.getElementById('lunrsearchresults').innerHTML = "<p>Search results for '" + term + "'</p>" + document.getElementById('lunrsearchresults').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><span class='body'>"+ body +"</span><span class='url'>"+ url +"</span></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>No results found...</li>";
        }
    }
    return false;
}

function lunr_search(term) {
    $('#lunrsearchresults').show( 400 );
    $( "body" ).addClass( "modal-open" );
    
    document.getElementById('lunrsearchresults').innerHTML = '<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> </div> <div class="modal-body"> <ul class="mb-0"> </ul>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-primary btn-sm" data-dismiss="modal">Close</button></div></div> </div></div>';
    if(term) {
        document.getElementById('modtit').innerHTML = "<h5 class='modal-title'>Search results for '" + term + "'</h5>" + document.getElementById('modtit').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><small><span class='body'>"+ body +"</span><span class='url'>"+ url +"</span></small></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>Sorry, no results found. Close & try a different search!</li>";
        }
    }
    return false;
}
    
$(function() {
    $("#lunrsearchresults").on('click', '#btnx', function () {
        $('#lunrsearchresults').hide( 5 );
        $( "body" ).removeClass( "modal-open" );
    });
});