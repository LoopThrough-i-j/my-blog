<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <link rel="icon" href="/assets/images/logo.png" />

  <title>How to use Cloud without losing sleep | Debayan Ganguly</title>

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>How to use Cloud without losing sleep | Debayan Ganguly</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="How to use Cloud without losing sleep" />
<meta name="author" content="sudeep" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A hands on guide for individual developers, small teams without dedicated SRE or oncall teams to using Cloud services safely." />
<meta property="og:description" content="A hands on guide for individual developers, small teams without dedicated SRE or oncall teams to using Cloud services safely." />
<link rel="canonical" href="http://localhost:4000/guide-to-cloud/" />
<meta property="og:url" content="http://localhost:4000/guide-to-cloud/" />
<meta property="og:site_name" content="Debayan Ganguly" />
<meta property="og:image" content="http://localhost:4000/assets/images/use-cloud/puppy-laptop.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-13T00:00:00+05:30" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/images/use-cloud/puppy-laptop.jpg" />
<meta property="twitter:title" content="How to use Cloud without losing sleep" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"sudeep"},"dateModified":"2021-01-13T00:00:00+05:30","datePublished":"2021-01-13T00:00:00+05:30","description":"A hands on guide for individual developers, small teams without dedicated SRE or oncall teams to using Cloud services safely.","headline":"How to use Cloud without losing sleep","image":"http://localhost:4000/assets/images/use-cloud/puppy-laptop.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/guide-to-cloud/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo-ufo.png"},"name":"sudeep"},"url":"http://localhost:4000/guide-to-cloud/"}</script>
<!-- End Jekyll SEO tag -->


  <link href="/assets/css/prism.css" rel="stylesheet" />

  <link href="/assets/css/theme.css" rel="stylesheet" />

  <script src="/assets/js/jquery.min.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MRDT7DH60M"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-MRDT7DH60M");
  </script>
</head>

 

<body class="dark">
  <!-- defer loading of font and font awesome -->
  <noscript id="deferred-styles">
    <link href="https://fonts.googleapis.com/css?family=Sen:400,700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
      integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous" />
  </noscript>

  <!-- Begin Sidebar Navigation
================================================== -->

  <div class="sidebar"></div>
  <div class="nav-icon">
    <div class="hamburger-bar"></div>
  </div>
  <div id="blackover-nav" class="blackover"></div>
  <nav id="menu">
    <ul>
      <h3></h3>
      <li><a href="/">Home</a></li>
      <li><a href="https://sudcha.com" target="_blank">About me</a></li>
      <li>
        <a href="https://www.youtube.com/channel/UCgumVa37_24jNvYizs7kUiw">Youtube</a>
      </li>
      <li><a href="/tos">Privacy & Terms</a></li>
    </ul>
  </nav>

  <script src="/assets/js/lunr.js"></script>

<style>
    
</style>

<div class="wrap-search">
    <div class="d-flex align-items-center ml-auto">
        <i class="fas fa-search show-search"></i>
        <form class="bd-search ml-3" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
            <input type="text" class="form-control bigradius text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Search"/>
        </form>
    </div>
</div>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

  <!-- End Sidebar Navigation
================================================== -->

  <div class="site-content ">
    <div class="container">
      <!-- Site Logo/Name
    ================================================== -->
      <div style="display: block">
        <a class="navbar-brand" href="/">
          <img id="imageid" src="/assets/images/logo.png" alt="Debayan Ganguly" />
        </a>

        <!-- <label id="themeSwitch" class="switch">
          <input type="checkbox" onclick="Theme()" />
          <span class="slider"></span>
        </label> -->
      </div>
      <!-- Site Tag
    ================================================== -->
      

      <!-- Content
    ================================================== -->
      <div class="main-content"><div class="entry-header">
    <!-- Post Title -->
    <h1 class="posttitle">How to use Cloud without losing sleep</h1>
    <!-- Author & Date  Box -->
    
    
    <div class="d-flex align-items-center mt-4">
        <!-- <div>
            
            <img class="author-thumb" src="https://www.gravatar.com/avatar/?s=250&d=mm&r=x" alt="">
            
            
        </div>             -->
        
        <div>
        By <a target="_blank" class="text-dark" href=""></a> | 
        <span class="post-date"><time class="post-date" datetime="2021-01-13">13 Jan 2021</time> </span>           
        
        </div>            
    </div>
    
</div>

<!-- Adsense under title if enabled from _config.yml (change your pub id and slot) -->


<!-- Featured Image -->

<div class="entry-featured-image">
    
    <img class="featured-image lazyimg " src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII=" data-src="/assets/images/use-cloud/puppy-laptop.jpg" alt="How to use Cloud without losing sleep">
    
</div>


<!-- Content -->
<!-- Post, Page Content
================================================== -->
<div class="article-post">
    <!-- Toc if any -->
    
    
        <p><center><em></em></center></p>
    
    <div class="toc mt-4 mb-4 lead">
        <h3 class="font-weight-bold">Summary</h3>
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#disclaimers-">Disclaimers (!)</a></li>
  <li><a href="#lets-jump-into-it">Let’s jump into it!</a>
    <ul>
      <li><a href="#1-use-multiple-forms-of-payments-fop-preferably-with-spend-caps">1. Use multiple forms of payments (FOP), preferably with spend caps</a></li>
      <li><a href="#2-setup-service-quotas">2. Setup Service Quotas</a>
        <ul>
          <li><a href="#some-caveats">Some Caveats</a></li>
        </ul>
      </li>
      <li><a href="#3-cloud-monitoring">3. Cloud Monitoring</a>
        <ul>
          <li><a href="#how-to-use-monitoring-service">How to use Monitoring service</a></li>
        </ul>
      </li>
      <li><a href="#4-use-free-projects">4. Use Free Projects</a></li>
      <li><a href="#5-spend-good-amount-of-time-understanding-and-predicting-costs">5. Spend good amount of time understanding and predicting costs</a></li>
      <li><a href="#6-cicd--operational-efficiency">6. CICD = Operational Efficiency</a></li>
      <li><a href="#7-protect-the-keys">7. Protect the keys!</a></li>
      <li><a href="#8-multi-cloud">8. Multi Cloud</a></li>
      <li><a href="#9-read-the-best-practices-from-the-provider">9. Read the best practices from the provider</a></li>
      <li><a href="#10-billing-budget-alerts--notifications">10. Billing Budget Alerts / Notifications</a></li>
    </ul>
  </li>
  <li><a href="#all-of-this-to-deploy-simple-code">All of this to deploy simple code?</a></li>
  <li><a href="#sleep-like-a-baby">Sleep like a baby</a></li>
</ul>
    </div>
    
    <!-- End Toc -->
    <p>A hands on guide for individual developers, small teams without dedicated SRE or oncall teams to using Cloud services safely.</p>

<h2 id="introduction">Introduction</h2>

<p>About a month ago, I published two blog posts on our company blog sharing one of our stories that form our journey: <a href="https://blog.tomilkieway.com/72k-1/" target="_blank">We burnt $72K and almost went bankrupt</a>. The post was fairly well circulated in the tech community, and inspired me to write a post dedicated to the hacks that help me sleep better at night without having an oncall team to manage all the cloud services.</p>

<p>This post outlines practices I learnt and now practise for keeping a check on Cloud usage, and an attempt to eliminate possibilities of surprises.</p>

<center>
<div class="yt-container">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/b5W5PV3Psjg?rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</div>  
<em>Here's the video you are looking for.</em>
</center>

<p><br /></p>

<h2 id="disclaimers-">Disclaimers (!)</h2>

<dl>
  <dt>1. If you're capable of hosting everything on your own server(s) ...
  </dt>
  <dd>Congratulations, you're one of the very few who have this knowledge and experience. You know what you're doing and keep it up. Depending on whether you have interest in Cloud platforms, this post may or may not add any value to you.</dd>

  <dt>2. Examples are centric to GCP but fundamentals should apply to all platforms</dt>
  <dd>Although examples in this post are on GCP, I've tried to structure around some fundamental vs. platform features. All cloud services have similar features, but they have different names, prices and usage policies.</dd>

  <dt>3. This is not an exhaustive list</dt>
  <dd>Like everyone, I'm still learning and growing. Below is what I learnt from several mistakes, figuring out solutions on my own and going through every piece of literature online from great kind minds. If you have more tips, feel free to share with me, and I'll be happy to add it to this list.</dd>

  <dt>4. This is a long post</dt>
  <dd>Sorry about it, but there's no way around it. If you find it useful and can't finish in one go, you can always come back to this post.</dd>
</dl>
<hr />

<h2 id="lets-jump-into-it">Let’s jump into it!</h2>

<hr />

<h3 id="1-use-multiple-forms-of-payments-fop-preferably-with-spend-caps">1. Use multiple forms of payments (FOP), preferably with spend caps</h3>

<p>Let’s begin with the simplest yet the most effective fixes.</p>

<center>
<img src="/assets/images/use-cloud/credit-card.jpg" style="border: 1px solid black" /><br />
</center>

<ol>
  <li>
    <p><strong>Have spending limits/caps on the forms of payments (FOPs) you use.</strong>
Most cloud services have a monthly billing except if a threshold spend is reached. If the threshold is reached, the Cloud platforms charge the given account right away. If for some reason, one of your services faulter, the cloud service would directly charge the form of payment (like credit cards) on file, and on non payment, stop the service.</p>

    <p>Ideally the spending limit could be anywhere between 120-150% of the cost you expect to incur given the usage of your platform.</p>

    <p>From what I’ve read, it’s relatively easier to get bill waived off than get a refund. While the suggestions in this post will make sure such situations don’t arise, it’s better to have it set up anyways.</p>

    <blockquote>
      <p>Don’t use your $25,000 no limit credit card while setting up billing for a fresh account.</p>
    </blockquote>
  </li>
  <li>
    <p><strong>Use different FOPs for development and production.</strong><br />
After we messed up in one of our projects, our credit card was declined, and this had several unexpected ripple effects.</p>

    <ul>
      <li>First GCP suspended all our billing accounts tied to the same credit card for a suspect of fraud.</li>
      <li>Second, our bank started suspending all future transaction requests from GCP suspecting fraud.</li>
    </ul>

    <p>Sorting this took several days, and it halted our development cycle. Thankfully we didn’t have a production service back then.</p>

    <p>In an ideal setup, I recommend using one FOP for production account, and another one for dev/test accounts. Never mix these two.</p>
  </li>
</ol>

<p><strong>Note:</strong> <br />
If you’re a solo developer, I highly recommend setting up an LLC or some umbrella that gives your personal assets protection. Doesn’t matter where you live, in recent years this process has become quite standard everywhere in the world, thanks to the entrepreneurial boom.</p>

<p>Some wise people online have suggested setting up a shell company (!). I personally don’t recommend spending time doing this. If you’re building something meaningful, spend all your time making it better in a legit way.</p>

<h3 id="2-setup-service-quotas">2. Setup Service Quotas</h3>

<p>In GCP users can define <a href="https://cloud.google.com/docs/quota">“Quotas”</a> for most services. AWS has similar feature called <a href="https://docs.aws.amazon.com/servicequotas/latest/userguide/intro.html" target="_blank">“Service Quotas”</a>, and I’m sure other providers have this as well.</p>

<p>Depending on type of Quota, some of them can be set for usage per day, per minute or even <em>per user</em> per minute. I don’t really trust the <em>per user</em> quota because who defines “a user”? The others quotas for the most part are fairly reliable.</p>

<blockquote>
  <p>While GCP doesn’t allow auto cut off on billing, it does allow auto cut off based on usage, well at least for most services.</p>
</blockquote>

<p>For any account with billing, when I enable a new service, I first check if there’s a quota, and if there’s one, I set it to really low while getting familiar with the service. A lot of the services are charged per use and setting up this quota also helps in validating the costs that will be incurred on use.</p>

<p>As an example, if I’m testing GCP Adult Image Classifier service, as soon as I enable the service, I would first set the Quota to <strong>100 per day</strong> and then try the codelab provided.</p>

<center>
<img src="/assets/images/use-cloud/vision-quota.png" style="border: 1px solid black" /><br />
</center>

<p>If the cloud provider you use neither has auto billing shutoff nor budgets, it should be a big red flag for you to use the service.</p>

<h4 id="some-caveats">Some Caveats</h4>

<ul>
  <li>
    <p><strong>Default Values are counter intuitive!</strong><br />
Most services have a preset default quota of unlimited or some absurd value like 1,000,000. Why? God knows. Maybe GCP engineers never paid attention to it, or they assume each of their users, considerable population of which is students, build apps with million dollar budgets.
Setting quotas is also multi click arduous process probably because they are optimized for large organizations. Don’t fret the extra clicks, it’s worth it.</p>
  </li>
  <li>
    <p><strong>Not all services have Quota limits</strong><br />
For example Firestore Read/Write ops. From engineering standpoint, this is understandable because if the service has to check for quota, how can it be real time?
Don’t assume that every service has a quota.</p>
  </li>
  <li>
    <p><strong>Not all quotas work as advertised</strong><br />
Test each of the quotas before fully relying on them. I found several that <strong>don’t work</strong> and my consults led to bugs with Google. The bugs are not fixed yet, and so if something were to go wrong with those services, they would act as a fall back because it’s an issue on GCP’s side.</p>
  </li>
</ul>

<h3 id="3-cloud-monitoring">3. Cloud Monitoring</h3>

<p>While billing is delayed by about a day, most metrics provided by Cloud platforms are delayed by only a few minutes. For GCP this is called Cloud Monitoring, for AWS it’s called CloudWatch and in Microsoft - Azure Monitor.</p>

<p>These monitoring services are either free for the project services (standard metrics), or available at very, very cheap prices.</p>

<p>Setting up Monitoring wasn’t really in the face when I started using Cloud Services, nor is it generally advertised, but it’s a great feature that everyone should use.</p>

<p><strong>What it allows:</strong></p>

<ul>
  <li>Creating beautiful custom dashboards with usage graphs for the services you care about</li>
  <li>Creating alerts that fire if usage goes beyond a user defined limit. The alerts can be SMS, email and app notifications.</li>
</ul>

<h4 id="how-to-use-monitoring-service">How to use Monitoring service</h4>

<ul>
  <li>
    <p><strong>Set up Alerts</strong><br />
You can also set up alerts that’ll fire emails, text messages and mobile app notifications, all for free. While they may not be of much use while you’re sleeping, they do provide a lot of support while you’re awake.</p>

    <p>Case study from our development cycle:
During development of our first product Announce, one of the engineers on my team developing locally (live build on localhost) accidentally created an infinite loop that led to infinite Firebase read ops for a few minutes. We had a free limited project for development so nothing could go wrong, but the monitoring alerted me and I reached out to the team to see what was up.</p>

    <p>The only down side in this was that we had a very limited quota remaining for the day and the team waited until next day to resume development.</p>
  </li>
  <li>
    <p><strong>Look for spikes</strong></p>
  </li>
</ul>

<center>
<img src="/assets/images/use-cloud/spike.png" style="border: 1px solid black" /><br />
<em>Always take the time to explain spikes in usage.</em>
</center>

<p>Most of the graphs may look daunting and it’s probably not worth understanding each and every metric and figure. To simplify your job, just look into anomalies.</p>

<p>After few steady days, your job should be to watch out for spikes in usage as compared to the usage in longer period of time. Set the usage to 6 weeks and see if there is a spike. If there is a spike, it should be explained, say too much local testing, surge in usage, expected triggers etc.</p>

<p>Looking for spikes only takes 2-3 minutes for the dashboard to load, and your job is done. This should be part of daily working routine if you have any service deployed on cloud.</p>

<ul>
  <li>
    <p><strong>Anticipate and Reduce Costs</strong><br />
As the graphs are only a few minutes late, after doing something you can wait for a few minutes to see what resources you consumed. You can also predict costs of something before it shows up in billing.</p>

    <p>Another big advantage is aide in reducing costs! For example, looking at Storage, I understood that GCP was continuously storing build artifacts from <em>each</em> build which took a development project storage that shouldn’t be using anymore than 100MB to 25GB. There are ways to fix this, but as a developer, one must know that this problem exists.</p>
  </li>
</ul>

<center>
<img src="/assets/images/use-cloud/spike3.png" style="border: 1px solid black" /><br />
<em>High execution time could mean under allocation of resources, leading to more cost.
</em>
</center>

<p>Another example is memory or CPU consumption from the deployed services. Some graphs can easily tell if you have <strong>over/under allocation</strong> of resources to the services.</p>

<ul>
  <li><strong>Write better Code</strong><br />
These graphs easily show low hanging fruits to optimize code. Maybe your cloud function is going into background processes, or perhaps its timing out due to some other service being called serially (instead of asynchronously).</li>
</ul>

<h3 id="4-use-free-projects">4. Use Free Projects</h3>

<p>Cloud Platforms today provide a lot of free services per project, and there are a <strong>lot of projects that a user can create</strong>. There’s a reason why the systems are set up in such a way. Primary reason, as far as I can think of, is to give enough room for testing and learning about the service.</p>

<p>Firebase and GCP allow more than 10 projects, which can be extended further. If there’s some issue with your account, you can always file for an extension.</p>

<p><strong>That’s great… but how to use these free projects?</strong></p>

<center>
<img src="/assets/images/use-cloud/cycles.png" style="border: 1px solid black" /><br />
<em>Basic Environments for Software Development</em>
</center>

<p>Well, for one, set up multiple environments. Software development cycle is common knowledge so I’ll be brief about it. In any project ideally you should have dev, test, staging (alpha), preview (beta) and production environments. No matter how small the project be, you should still have at least dev and prod environments that are completely decoupled from each other. Read that again: <em>completely decoupled</em> from each other.</p>

<center>
<img src="/assets/images/use-cloud/cycles2.png" style="border: 1px solid black" /><br />
<em>Sample project structure using Firebase, and GCP resources in different environments</em>
</center>

<p>You can use a free firebase project for development, and a paid one for production. If you have backend services that need cloud sources, you can grant permissions to your free project sources to the paid project service accounts.</p>

<p>This topic could be an entire post, as creating an architecture that supports multiple environments (dev, test, prod) for multiple platforms (Web, Android, iOS, API) can be a little complex.</p>

<p><strong>Granting permissions of one project to another</strong><br />
An important concept to understand is types of accounts and accesses. There are two types of user accesses in services: 1. Access to human, and 2. Access to a service account.</p>

<p>Ideally almost all accesses should be only to service accounts and none to humans (except maybe admins).</p>

<p>In GCP it’s possible to give permissions to access resources of one project from another project, which is a great feature. I’m very sure every other platform has the same feature and I highly recommend using it.</p>

<h3 id="5-spend-good-amount-of-time-understanding-and-predicting-costs">5. Spend good amount of time understanding and predicting costs</h3>

<p>Before going through any codelab for a service, first spend some time on Pricing of that service/feature. This is tied to designing the architecture of a project which can be a long post of its own.</p>

<p>Most cloud services now have a great cost calculator (<a href="https://cloud.google.com/products/calculator">GCP Calculator here</a>). This is a tool for developers to decide whether and how to use that service. Spend some time on these calculators, and test the costs in extreme cases.</p>

<p>Over the course of time, I have started testing services for a day or two in a safe environment (development account). Wait for the billing to process and when I understand it correctly, then move on to integrating it in the product.</p>

<p>A better approach would be to predict costs before and then test the service. The cost of service and your prediction should match. Never assume the pricing works as is because there are lot of factors to consider.</p>

<h3 id="6-cicd--operational-efficiency">6. CICD = Operational Efficiency</h3>

<center>
<img src="/assets/images/use-cloud/efficiency.jpg" style="border: 1px solid black" /><br />
<em>Time spent in CICD is like time spent in converting cube into sphere.</em>
</center>

<p>Any project that has billing enabled, should only be accessed by machines (service accounts) and not humans. This means all code should be deployed through CICD piplines triggered after code merge, which should ideally only happen after code review.</p>

<p>This falls in operational efficiency, and it doesn’t matter how small your project be, it’s a good idea to set it up like this because there’s no reason not to.</p>

<blockquote>
  <p>Time spent in infrastructure is like an investment. Over the course of time it will save you time and energy.</p>
</blockquote>

<p>Less human intervention is better, both for security and efficiency. If you’re on Github, Github Actions is one of the most valuable sources available, which is mostly free. Until now, there hasn’t been a month that I paid for Actions and I manage lot of CICD Pipelines.</p>

<p>GCP Cloud Build gives 120 minutes per day per billing account free, which to be honest is a lot. Unless you’re deploying ML models, or have lot of projects + large team, I highly doubt that this free tier would be breached.</p>

<p>Firebase has a great CLI, but I <strong>don’t recommend</strong> using it for deploying to production environments. For one, it’s harder to version the code and you might end up deploying buggy code. Second, any change in the deployment has to go through your machine.</p>

<p>CICD forces you to be good at code management and versioning, and that’s a good thing.</p>

<p><strong>What if I have to deploy just one function?</strong><br />
I still recommend setting up CICD because it’s reusable. Once you’ve figured out to set it up for one function, all your future deployments will require zero work.</p>

<h3 id="7-protect-the-keys">7. Protect the keys!</h3>

<center>
<img src="/assets/images/use-cloud/key-security.jpg" style="border: 1px solid black" /><br />
<em>No Key == Better Security</em>
</center>

<p>Most starter codelabs suggest downloading “service-key.json” and setting the environment locally. This is a great suggestion for someone testing a new service on free projects. However, any project that you plan on adding Billing, <strong>don’t ever download a key</strong>. It’s just not needed, and there’s lot of risk that goes with it.</p>

<p>For example you may accidentally add it to a git commit, forget to delete it while sharing code, or simply leave it somewhere on your system.</p>

<blockquote>
  <p>Simplest solution to securing keys and tokens is to never download them.</p>
</blockquote>

<p>I do download service keys but only when absolutely required, and only for development accounts that are on Free plan. For example in order to use Firebase emulator.</p>

<p>When keys are needed in CICD, encrypt them right away and delete the local copies before committing any code.</p>

<p>You can easily use encryption on Cloud without spending any time learning it. KMS and Secret Manager are as simple as it can get.</p>

<h3 id="8-multi-cloud">8. Multi Cloud</h3>

<p>If you have resources and not bootstrapped with an extremely small team, you probably are using more than just one Cloud. DO, GCP, Azure and AWS, all have some great pluses and minuses. If you have dedicated dev-ops and SREs I highly recommend making use of multi-cloud.</p>

<p>However, if you’re a solo indie developer, or a small startup, I recommend using just one cloud unless you really need just one feature from another cloud service. This, because each cloud service has its own dictionary, and learning curve.</p>

<blockquote>
  <p>‎”I fear not the man who has practiced 10,000 kicks once, but I fear the man who has practiced one kick 10,000 times.”
Bruce Lee</p>
</blockquote>

<p>It doesn’t matter which service, which language, which platform you choose, my recommendation is to spend as much time on it to learn and experiment that you’re the most knowledgeable about it.</p>

<p>Each cloud provider has similar set of tools, but using them, understanding their pricing/dictionary, and navigating their console takes lot of time to learn and adapt to. My recommendation is to master the one you choose and optimize your usage based on the positives and negatives of that platform.</p>

<h3 id="9-read-the-best-practices-from-the-provider">9. Read the best practices from the provider</h3>

<p>Think of cloud providers as coffee machines. The fundamental principles of making coffee remain the same, but the engineers who design the machines chose to prioritize a certain set of features that lead to certain design trade offs. The machine must be used in a certain way to work the best, and certain things should always be avoided.</p>

<p>Cloud Platforms are very similar to fancy expensive coffee machines in this way. They come with a guidebook manual that’s continuously evolving, and often has a set of dos / don’ts included.</p>

<p>I highly recommend going through the dos and don’ts for each of the service you use not only for best performance, but also to avoid unnecessary troubles.</p>

<p>Good example of this is <a href="https://cloud.google.com/run/docs/tips/general" target="_blank">Google Cloud Run development tips</a>. This article clearly states that developers should avoid background activities. If you as a developer didn’t go to this page on your own, and wrote a program that has some potential background activities but works perfectly on your local machine, you’d never realize why your code performs so badly on Cloud.</p>

<p>Point being, always proactively look for best practices for any service you use. SO and Medium have some great resources for most services :)</p>

<h3 id="10-billing-budget-alerts--notifications">10. Billing Budget Alerts / Notifications</h3>

<p>Every single guide, article, post recommends setting up billing alerts, and auto shut off cloud functions. This my least favorite feature, and the last on my list simply because it’s not proactive but post facto.</p>

<p>I do recommend setting Billing/Budget alert because it’s there, but it isn’t a feature I suggest anyone to rely upon.</p>

<h2 id="all-of-this-to-deploy-simple-code">All of this to deploy simple code?</h2>

<p>Well, it depends. If you’re deploying a small Cloud Function or equivalent thereof which has no possibility of backfiring then probably not.</p>

<p>If you’re deploying a scalable product that has multiple connected services and you don’t have deep pockets, I recommend suggestions in this post.</p>

<p>Building something from scratch, and making it economically scalable isn’t an easy task. It doesn’t matter if your product cures cancer, or you’re working on a spam attack, building anything requires substantial amount of work.</p>

<p>There’s a reason why SREs are paid so well across the industry, and there’s a huge constant demand for them.</p>

<p>Thankfully the world is becoming better everyday with better free tutorials, codelabs, and people sharing their awesome strategies on SO for free. Key is to begin :).</p>

<h2 id="sleep-like-a-baby">Sleep like a baby</h2>

<center>
<img src="/assets/images/use-cloud/sleep-well.jpg" style="border: 1px solid black" /><br />
<em>Great Sleep == Great Productivity.</em>
</center>
<p>This post covers the basic setup that I usually do for any project that I deploy on Cloud. All of this helps me sleep well at night without having any SRE or anyone in dev-ops.</p>

<p>Well, that’s probably not entirely true as each of the big cloud services have tens of thousands of brilliant engineers that I can easily piggy back on.</p>

<p>There are several service specific hacks not included in this post, which I might write about in future.</p>

<hr />

<p>This is <strong>not</strong> a sponsored post. There are no newsletter signups, no affiliate links, no product promotion. If you found this post useful, <strong>share it</strong>.</p>

<p>If you’d like to get my future posts, or just want to say hello, <a href="/contact">connect with me.</a></p>

<hr />

</div>

<!-- Related Post -->
<!-- Related Posts
================================================== -->
<div class=" related-posts ">  

    
    <h2 class="text-center mb-4">Explore more like this</h2>
    
    
    <div class="d-flex justify-content-center align-items-center">
    
    <!-- Categories -->
    
    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/categories#Engineering">Engineering</a>                
    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/categories#Startup">Startup</a>                
    

    <!-- Tags -->  
    
    

    </div>

    
    
    
    <div class="blog-grid-container">
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/i-made-youtube-videos-using-python/">
                

                
                <img class="img-thumb lazyimg"
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII="
                    data-src="/assets/images/youtube-python/thumb2.jpg" alt="I Made Youtube Videos using Python">
                

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark gradient-text" href="/i-made-youtube-videos-using-python/">
                    I Made Youtube Videos using Python
                </a>
            </h2>
            <h4 class="card-text">The first project I worked on after leaving my full time job was to create Youtube videos programmatically, at scale. This post explains what I did, and what happened next....</h4>
        </div>
        <div class="card-footer">
            <div class="wrapfooter">
                <span class="meta-footer-thumb">
                    <span class="post-date">21 Oct 2021</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
            <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/dont-just-create-value/">
                

                
                <img class="img-thumb lazyimg"
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII="
                    data-src="/assets/images/value-creation/thumb2.jpg" alt="Creating Value isn't Secret to Success. It's Common Sense.">
                

                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark gradient-text" href="/dont-just-create-value/">
                    Creating Value isn't Secret to Success. It's Common Sense.
                </a>
            </h2>
            <h4 class="card-text">I keep hearing the phrase “Value Creation leads to Wealth”. It’s true to a large degree, but not the complete truth.
</h4>
        </div>
        <div class="card-footer">
            <div class="wrapfooter">
                <span class="meta-footer-thumb">
                    <span class="post-date">01 Oct 2021</span>
                </span>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<!-- end post -->
            
            
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        
            
            
        
            
        
            
        
        
        </div>        
</div>

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->
</div>
    </div>

    <!-- Begin Footer
================================================== -->
    <br /><br />
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-6 col-sm-12 text-center text-lg-left">
            Copyright © 2022 Debayan Ganguly
          </div>

          <div class="col-md-6 col-sm-12 text-center text-lg-right">
            <a href="/tos">Privacy & Terms</a>
          </div>
        </div>
      </div>
    </footer>
    <!-- End Footer
================================================== -->
  </div>
  <!-- /.site-content -->

  <!-- Scripts (if you need bootstrap.js, please add it yourself. I didn't use it for performance reasons, it was not needed in this theme)
================================================== -->
  <script src="/assets/js/prism.js"></script>

  <script src="/assets/js/theme.js"></script>

  
  <script src="/assets/js/lazyload.js"></script>
  

  <!-- 
<script id="dsq-count-scr" src="//.disqus.com/count.js"></script>
 -->
  <!-- Share -->
  <div class="share" style="font-size: 18px;">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">

            <button class="unstyled-button" onclick="copyClipboard()">
                <i class="fa fa-link"></i>
            </button>
        </li>

        <li class="ml-1 mr-1">
            <button class="unstyled-button" onclick="shareTW()">
                <i class="fab fa-twitter"></i>
                </buttom>
        </li>

        <li class="ml-1 mr-1">
            <button class="unstyled-button" onclick="shareFB()">
                <i class="fab fa-facebook-f"></i>
            </button>
        </li>

        <li class="ml-1 mr-1">
            <button class="unstyled-button" onclick="shareLN()">
                <i class="fab fa-linkedin-in"></i>
            </button>
        </li>
        <li class="ml-1 mr-1">
            <button class="unstyled-button" onclick="shareRD()">
                <i class="fab fa-reddit-alien"></i>
            </button>
        </li>

    </ul>
</div>
<script>
    function copyClipboard() {
        /* Get the text field */
        var x = document.createElement("INPUT");
        x.setAttribute("type", "text");
        x.setAttribute("id", "currentUrl");
        x.setAttribute("value", "http://localhost:4000/guide-to-cloud/");
        document.body.appendChild(x);

        /* Select the input field */
        x.select();
        x.setSelectionRange(0, 99999); /* For mobile devices */

        /* Copy the text inside the text field */
        document.execCommand("copy");
        //var myobj = document.getElementById("currentUrl");
        if (navigator.share) {
            navigator
                .share({
                    title: "How to use Cloud without losing sleep",
                    text: "Check this post!",
                    url: "http://localhost:4000/guide-to-cloud/",
                })
                .then(() => console.log("Successful share"))
                .catch((error) => console.log("Error sharing", error));
        }
        x.remove();
    }
    function shareTW() {
        let Link = "https://twitter.com/intent/tweet?text=How to use Cloud without losing sleep&url=http://localhost:4000/guide-to-cloud/"
        window.open(Link, 'twitter-share', 'width=600,height=600')
    }
    function shareFB() {
        let Link = "https://facebook.com/sharer.php?u=http://localhost:4000/guide-to-cloud/"
        window.open(Link, 'facebook-share', 'width=600,height=600')
    }
    function shareLN() {
        let Link = "https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/guide-to-cloud/"
        window.open(Link, 'linkedin-share', 'width=600,height=600')
    }
    function shareRD() {
        let Link = "http://www.reddit.com/submit?url=http://localhost:4000/guide-to-cloud/"
        window.open(Link, 'reddit-share', 'width=600,height=600')
    }
</script>
</body>
<!--script>
  var body = document.getElementsByTagName("body")[0];
  if (localStorage.getItem("theme") === null) {
  document.getElementById("imageid").src =
  "/assets/images/logo-ufo.png";
  localStorage.setItem("theme", 0);
  } else if (localStorage.getItem("theme") == 0) {
  document.getElementById("imageid").src =
  "/assets/images/logo-ufo.png";
  body.classList.remove("dark");
  } else if (localStorage.getItem("theme") == 1) {
  document.getElementById("imageid").src =
  "/assets/images/logo.png";
  body.classList.add("dark");
  }
  // function Theme() {
  // // console.log("1232423")

  // if (localStorage.getItem("theme") == 0) {
  // body.classList.add("dark");
  // localStorage.setItem("theme", 1);
  // document.getElementById("imageid").src =
  // "/assets/images/logo.png";
  // } else if (localStorage.getItem("theme") == 1) {
  // body.classList.remove("dark");
  // localStorage.setItem("theme", 0);
  // document.getElementById("imageid").src =
  // "/assets/images/logo-ufo.png";
  // }
  // } 
  </script-->

</html>